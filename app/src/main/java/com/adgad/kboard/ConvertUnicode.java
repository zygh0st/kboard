package com.adgad.kboard;

import android.os.Build;

import java.util.HashMap;
import java.util.Map;
import java.util.Objects;

/**
 * Created by arjun on 19/12/18.
 */
class ConvertUnicode {


    static String convert(String src, String type) {
        Map<String, String> conversions = new HashMap<>();
        conversions.put("circle", "â“ªâ‘ â‘¡â‘¢â‘£â‘¤â‘¥â‘¦â‘§â‘¨â“â“‘â“’â““â“”â“•â“–â“—â“˜â“™â“šâ“›â“œâ“â“žâ“Ÿâ“ â“¡â“¢â“£â“¤â“¥â“¦â“§â“¨â“©â’¶â’·â’¸â’¹â’ºâ’»â’¼â’½â’¾â’¿â“€â“â“‚â“ƒâ“„â“…â“†â“‡â“ˆâ“‰â“Šâ“‹â“Œâ“â“Žâ“");
        conversions.put("darkcircle", "â“¿â¶â·â¸â¹âºâ»â¼â½â¾ðŸ…ðŸ…‘ðŸ…’ðŸ…“ðŸ…”ðŸ…•ðŸ…–ðŸ…—ðŸ…˜ðŸ…™ðŸ…šðŸ…›ðŸ…œðŸ…ðŸ…žðŸ…ŸðŸ… ðŸ…¡ðŸ…¢ðŸ…£ðŸ…¤ðŸ…¥ðŸ…¦ðŸ…§ðŸ…¨ðŸ…©ðŸ…ðŸ…‘ðŸ…’ðŸ…“ðŸ…”ðŸ…•ðŸ…–ðŸ…—ðŸ…˜ðŸ…™ðŸ…šðŸ…›ðŸ…œðŸ…ðŸ…žðŸ…ŸðŸ… ðŸ…¡ðŸ…¢ðŸ…£ðŸ…¤ðŸ…¥ðŸ…¦ðŸ…§ðŸ…¨ðŸ…©");
        conversions.put("monospace", "ðŸ¶ðŸ·ðŸ¸ðŸ¹ðŸºðŸ»ðŸ¼ðŸ½ðŸ¾ðŸ¿ðšŠðš‹ðšŒðšðšŽðšðšðš‘ðš’ðš“ðš”ðš•ðš–ðš—ðš˜ðš™ðššðš›ðšœðšðšžðšŸðš ðš¡ðš¢ðš£ð™°ð™±ð™²ð™³ð™´ð™µð™¶ð™·ð™¸ð™¹ð™ºð™»ð™¼ð™½ð™¾ð™¿ðš€ðšðš‚ðšƒðš„ðš…ðš†ðš‡ðšˆðš‰");
        conversions.put("double", "ðŸ˜ðŸ™ðŸšðŸ›ðŸœðŸðŸžðŸŸðŸ ðŸ¡ð•’ð•“ð•”ð••ð•–ð•—ð•˜ð•™ð•šð•›ð•œð•ð•žð•Ÿð• ð•¡ð•¢ð•£ð•¤ð•¥ð•¦ð•§ð•¨ð•©ð•ªð•«ð”¸ð”¹â„‚ð”»ð”¼ð”½ð”¾â„ð•€ð•ð•‚ð•ƒð•„â„•ð•†â„™â„šâ„ð•Šð•‹ð•Œð•ð•Žð•ð•â„¤");
        conversions.put("square", "0123456789ðŸ„°ðŸ„±ðŸ„²ðŸ„³ðŸ„´ðŸ„µðŸ„¶ðŸ„·ðŸ„¸ðŸ„¹ðŸ„ºðŸ„»ðŸ„¼ðŸ„½ðŸ„¾ðŸ„¿ðŸ…€ðŸ…ðŸ…‚ðŸ…ƒðŸ…„ðŸ……ðŸ…†ðŸ…‡ðŸ…ˆðŸ…‰ðŸ„°ðŸ„±ðŸ„²ðŸ„³ðŸ„´ðŸ„µðŸ„¶ðŸ„·ðŸ„¸ðŸ„¹ðŸ„ºðŸ„»ðŸ„¼ðŸ„½ðŸ„¾ðŸ„¿ðŸ…€ðŸ…ðŸ…‚ðŸ…ƒðŸ…„ðŸ……ðŸ…†ðŸ…‡ðŸ…ˆðŸ…‰");
        conversions.put("darksquare", "0123456789ðŸ…°ðŸ…±ðŸ…²ðŸ…³ðŸ…´ðŸ…µðŸ…¶ðŸ…·ðŸ…¸ðŸ…¹ðŸ…ºðŸ…»ðŸ…¼ðŸ…½ðŸ…¾ðŸ…¿ðŸ†€ðŸ†ðŸ†‚ðŸ†ƒðŸ†„ðŸ†…ðŸ††ðŸ†‡ðŸ†ˆðŸ†‰ðŸ…°ðŸ…±ðŸ…²ðŸ…³ðŸ…´ðŸ…µðŸ…¶ðŸ…·ðŸ…¸ðŸ…¹ðŸ…ºðŸ…»ðŸ…¼ðŸ…½ðŸ…¾ðŸ…¿ðŸ†€ðŸ†ðŸ†‚ðŸ†ƒðŸ†„ðŸ†…ðŸ††ðŸ†‡ðŸ†ˆðŸ†‰");
        conversions.put("fancy", "0123456789ð”žð”Ÿð” ð”¡ð”¢ð”£ð”¤ð”¥ð”¦ð”§ð”¨ð”©ð”ªð”«ð”¬ð”­ð”®ð”¯ð”°ð”±ð”²ð”³ð”´ð”µð”¶ð”·ð”„ð”…â„­ð”‡ð”ˆð”‰ð”Šâ„Œâ„‘ð”ð”Žð”ð”ð”‘ð”’ð”“ð””â„œð”–ð”—ð”˜ð”™ð”šð”›ð”œâ„¨");
        conversions.put("fancybold", "0123456789ð–†ð–‡ð–ˆð–‰ð–Šð–‹ð–Œð–ð–Žð–ð–ð–‘ð–’ð–“ð–”ð–•ð––ð–—ð–˜ð–™ð–šð–›ð–œð–ð–žð–Ÿð•¬ð•­ð•®ð•¯ð•°ð•±ð•²ð•³ð•´ð•µð•¶ð•·ð•¸ð•¹ð•ºð•»ð•¼ð•½ð•¾ð•¿ð–€ð–ð–‚ð–ƒð–„ð–…");
        conversions.put("inverted", "0123456789ÉqÉ”pÇÉŸÆƒÉ¥Ä±É¾Êž×ŸÉ¯uodbÉ¹sÊ‡nÊŒÊxÊŽzÉqÉ”pÇÉŸÆƒÉ¥Ä±É¾Êž×ŸÉ¯uodbÉ¹sÊ‡nðŒ¡ÊxÊŽz");
        conversions.put("reversed", "0ß23456789Adâ†„bÉ˜êŸ»gHijklmá´Žoqpá´™ê™…TUvwxYzAdâ†ƒbÆŽêŸ»GHIJKâ…ƒMá´ŽOêŸ¼pá´™ê™„TUVWXYZ");
        conversions.put("cjkthai", "0123456789ï¾‘ä¹ƒcdä¹‡ï½·gã‚“ï¾‰ï¾Œã‚ºï¾šï¾¶åˆ€oï½±qå°ºä¸‚ï½²uâˆšwï¾’ï¾˜ä¹™ï¾‘ä¹ƒcdä¹‡ï½·gã‚“ï¾‰ï¾Œã‚ºï¾šï¾¶åˆ€oï½±qå°ºä¸‚ï½²uâˆšwï¾’ï¾˜ä¹™");
        conversions.put("subscript", "â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰â‚bcdâ‚‘fgâ‚•áµ¢â±¼â‚–â‚—â‚˜â‚™â‚’â‚šqáµ£â‚›â‚œáµ¤áµ¥wâ‚“yzâ‚BCDâ‚‘FGâ‚•áµ¢â±¼â‚–â‚—â‚˜â‚™â‚’â‚šQáµ£â‚›â‚œáµ¤áµ¥Wâ‚“YZ");
        conversions.put("superscript", "â°Â¹Â²Â³â´âµâ¶â·â¸â¹áµƒáµ‡á¶œáµˆáµ‰á¶ áµÊ°â±Ê²áµË¡áµâ¿áµ’áµ–qÊ³Ë¢áµ—áµ˜áµ›Ê·Ë£Ê¸á¶»á´¬á´®á¶œá´°á´±á¶ á´³á´´á´µá´¶á´·á´¸á´¹á´ºá´¼á´¾Qá´¿Ë¢áµ€áµâ±½áµ‚Ë£Ê¸á¶»");
        conversions.put("zyrillic", "0â… â…¡â…¢â…£â…¤â…¥â…¦â…§â…¨ï¾‘ä¹ƒÏ‚âˆ‚Ñð”£ï»®Ñ’ï¾‰ï¾Œã‚ºï¾šï¾¶åˆ€à¹ï½±á»£å°ºä¸‚ï½²àªªâˆšà¸ï¾’ï¾˜ä¹™ï¾‘ä¹ƒÏ‚âˆ‚Ñð”£ï»®Ñ’ï¾‰ï¾Œã‚ºï¾šï¾¶åˆ€à¹ï½±á»£å°ºä¸‚ï½²àªªâˆšà¸ï¾’ï¾˜ä¹™");
        conversions.put("zyrillian","0123456789ï¾‘ä¹ƒÏ‚âˆ‚Ñð”£ï»®Ñ’ï¾‰ï¾Œã‚ºï¾šï¾¶åˆ€à¹ï½±á»£å°ºä¸‚ï½²àªªâˆšà¸ï¾’ï¾˜ä¹™ï¾‘ä¹ƒÏ‚âˆ‚Ñð”£ï»®Ñ’ï¾‰ï¾Œã‚ºï¾šï¾¶åˆ€à¹ï½±á»£å°ºä¸‚ï½²àªªâˆšà¸ï¾’ï¾˜ä¹™");

        if(!conversions.containsKey(type)) {
            return src;
        }

        if (android.os.Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {

            int[] convert = Objects.requireNonNull(conversions.get(type)).codePoints().toArray();
            String normal = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
            StringBuilder destination = new StringBuilder();
            for (int c : src.toCharArray()) {
                int match = normal.indexOf(c);
                if (match >= 0) {
                    destination.appendCodePoint(convert[match]);
                } else {
                    destination.appendCodePoint(c);
                }
            }
            if (type.equals("inverted")) destination.reverse();
            return destination.toString();
        } else {
            return src;
        }
    }
}

